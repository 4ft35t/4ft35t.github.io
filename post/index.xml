<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on 4ft35t blog</title><link>https://4ft35t.github.io/post/</link><description>Recent content in Posts on 4ft35t blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 27 Feb 2022 23:41:49 +0800</lastBuildDate><atom:link href="https://4ft35t.github.io/post/index.xml" rel="self" type="application/rss+xml"/><item><title>åˆ©ç”¨ Pixel ä¸€ä»£çš„æ— é™å­˜å‚¨å¤‡ä»½ NAS ç…§ç‰‡</title><link>https://4ft35t.github.io/post/backup-nas-photo-to-goole-photo-via-pixel-for-unlimited/</link><pubDate>Sun, 27 Feb 2022 23:41:49 +0800</pubDate><guid>https://4ft35t.github.io/post/backup-nas-photo-to-goole-photo-via-pixel-for-unlimited/</guid><description>&lt;p>Pixel ä¸€ä»£å¯ä»¥æ— é™ä¸Šä¼ åŸå§‹è´¨é‡çš„ç…§ç‰‡å’Œè§†é¢‘åˆ° Google Photosï¼Œæ˜¯ NAS ä¸Šç…§ç‰‡å¼‚åœ°å¤‡ä»½çš„å¥½é€‰æ‹©ã€‚&lt;/p>
&lt;h2 id="tldr">TLDR&lt;/h2>
&lt;h3 id="æ‰‹æœºç«¯è®¾ç½®">æ‰‹æœºç«¯è®¾ç½®&lt;/h3>
&lt;ol>
&lt;li>Pixel æ‰‹æœºæ— éœ€ rootï¼Œå®‰è£… &lt;a class="link" href="https://play.google.com/store/apps/details?id=pl.solidexplorer2" target="_blank" rel="noopener"
>Solid Explorer&lt;/a>, å¼€å¯ FTP æœåŠ¡ã€‚FTP é»˜è®¤ç«¯å£ 9999, é»˜è®¤ç›®å½• /sdcard/Download/ã€‚&lt;/li>
&lt;li>åœ¨ FTP ç›®å½•æ”¾ä¸€å¼ å›¾ç‰‡ï¼ˆä½¿ç”¨ Solid Explorer å¤åˆ¶ã€æµè§ˆå™¨ä»ç½‘ä¸Šä¸‹è½½ã€FTP ä¸Šä¼ å‡å¯ï¼‰ï¼ŒGoogle Photos ä¼šè¯¢é—®æ˜¯å¦å¤‡ä»½æ­¤ç›®å½•ï¼Œé€‰å¤‡ä»½ã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="nas-è®¾ç½®">NAS è®¾ç½®&lt;/h3>
&lt;p>ç¾¤æ™–è‡ªå¸¦çš„ curl ä¸æ”¯æŒ FTPï¼Œéœ€è¦ä¸‹è½½ä¸€ä¸ªé™æ€ç¼–è¯‘å¼€å¯ FTP æ”¯æŒçš„ curlã€‚å¯ä»¥åœ¨ &lt;a class="link" href="https://github.com/moparisthebest/static-curl/releases" target="_blank" rel="noopener"
>https://github.com/moparisthebest/static-curl/releases&lt;/a> ä¸‹è½½ã€‚&lt;/p>
&lt;ol>
&lt;li>ä¸‹è½½ curl å¹¶é‡å‘½åæˆ &lt;strong>curl-amd64&lt;/strong>, å¹¶æ‰§è¡Œ &lt;code>chmod +x curl-amd64&lt;/code>&lt;/li>
&lt;li>ä¸‹è½½ä¸Šä¼ è„šæœ¬&lt;a class="link" href="https://gist.github.com/4ft35t/8024c8815a115ec134dd15965ed47fc5" target="_blank" rel="noopener"
>https://gist.github.com/4ft35t/8024c8815a115ec134dd15965ed47fc5&lt;/a>, å’Œ curl-amd64 ä¸€èµ·æ”¾åˆ°å®¶ç›®å½•ã€‚&lt;/li>
&lt;li>ä¿®æ”¹ photo-upload.sh ä¸­é…ç½®&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>ftp_server æ‰‹æœº FTP server åœ°å€ï¼ŒSolid Explorer ä¸­å¯ä»¥çœ‹åˆ°&lt;/li>
&lt;li>limit_size è„šæœ¬è¿è¡Œä¸€æ¬¡ä¸Šä¼ çš„å›¾ç‰‡/è§†é¢‘æ•°é‡ï¼Œè¿‡å¤§ä¼šå¯¼è‡´æ‰‹æœºå­˜å‚¨ç©ºé—´è¢«å æ»¡&lt;/li>
&lt;li>PHOTO_DIRS 19 è¡Œä¸åŠ¨ï¼Œä¿®æ”¹ 16 è¡Œï¼Œä¸€è¡Œä¸€ä¸ªç›®å½•ã€‚æˆ‘çš„ç¾¤æ™–ç…§ç‰‡æ€»åº“ &lt;code>/volume1/photo&lt;/code>, åŒæ—¶å„ç”¨æˆ·ä½¿ç”¨ Synology Photos å¤‡ä»½æ‰‹æœºç…§ç‰‡åˆ°è‡ªå·± home ç›®å½•, 17 è¡Œä¼šåŠ è½½æ‰€æœ‰ç”¨æˆ·ç›®å½•ä¸‹çš„ç…§ç‰‡ï¼Œæ— éœ€å•ç‹¬é…ç½®ã€‚&lt;/li>
&lt;li>æ§åˆ¶é¢æ¿-ä»»åŠ¡è®¡åˆ’-æ–°å¢-è®¡åˆ’çš„ä»»åŠ¡-ç”¨æˆ·å®šä¹‰çš„è„šæœ¬
&lt;ul>
&lt;li>ç”¨æˆ·å¸å·é€‰ &lt;code>admin&lt;/code>&lt;/li>
&lt;li>è®¡åˆ’-è¿è¡Œé¢‘ç‡-æ¯å°æ—¶&lt;/li>
&lt;li>ä»»åŠ¡è®¾ç½®-ç”¨æˆ·å®šä¹‰çš„è„šæœ¬ï¼Œ&lt;code>bash /volume1/homes/xx/photo-upload.sh&lt;/code>ï¼Œxx æ˜¯è‡ªå·±åœ¨ NAS ä¸Šç”¨æˆ·&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ç‚¹å‡»ç¡®å®šåï¼Œå³é”®-è¿è¡Œï¼Œå³å¯åœ¨æ‰‹æœºä¸Šçœ‹åˆ°ä¸Šä¼ çš„ç…§ç‰‡/è§†é¢‘ã€‚&lt;/p>
&lt;p>è„šæœ¬æ ¹æ® NAS ä¸Šç…§ç‰‡çš„ä¿®æ”¹æ—¶é—´æ¥å¢é‡å¤‡ä»½ï¼Œéœ€è¦å®šæœŸå»æ‰‹æœºä¸Šé‡Šæ”¾ç©ºé—´ï¼Œé¿å…æ‰‹æœºç©ºé—´å æ»¡ã€‚å…·ä½“æ“ä½œè·¯å¾„ï¼šGoogle ç›¸å†Œ-å³ä¸Šè§’å¤´åƒ-é‡Šæ”¾ç©ºé—´ã€‚&lt;/p>
&lt;h2 id="20220320-æ›´æ–°ä½¿ç”¨-autojs-è‡ªåŠ¨é‡Šæ”¾æ‰‹æœºç©ºé—´">2022.03.20 æ›´æ–°ï¼Œä½¿ç”¨ Autojs è‡ªåŠ¨é‡Šæ”¾æ‰‹æœºç©ºé—´&lt;/h2>
&lt;h3 id="ç¯å¢ƒå‡†å¤‡">ç¯å¢ƒå‡†å¤‡&lt;/h3>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Ericwyn/Auto.js/releases/download/V4.1.1.Alpha2/autoJs-V4.1.1.Alpha2-common-armeabi-v7a-debug.apk" target="_blank" rel="noopener"
>https://github.com/Ericwyn/Auto.js/releases/download/V4.1.1.Alpha2/autoJs-V4.1.1.Alpha2-common-armeabi-v7a-debug.apk&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://raw.githubusercontent.com/4ft35t/utils/master/autojs/utils.js" target="_blank" rel="noopener"
>https://raw.githubusercontent.com/4ft35t/utils/master/autojs/utils.js&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://gist.github.com/4ft35t/8024c8815a115ec134dd15965ed47fc5#file-google-photo-free-up-space-js" target="_blank" rel="noopener"
>https://gist.github.com/4ft35t/8024c8815a115ec134dd15965ed47fc5#file-google-photo-free-up-space-js&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="æ“ä½œæ­¥éª¤">æ“ä½œæ­¥éª¤&lt;/h3>
&lt;ol>
&lt;li>å®‰è£… autojs, è¿è¡Œ appï¼Œ å¹¶æŒ‰ç…§æç¤ºæ‰“å¼€æ— éšœç¢æœåŠ¡ã€‚&lt;/li>
&lt;li>å°† utils.js å’Œ google-photo-free-up-space.js æ”¾åˆ°æ‰‹æœº /sdcard/Scripts ç›®å½•&lt;/li>
&lt;li>æ‰“å¼€ autojsï¼Œä¸‹æ‹‰åˆ·æ–°ï¼Œç‚¹å‡» google-photo-free-up-space.js å³è¾¹çš„ä¸‰è§’ç¬¦å·è¿è¡Œ&lt;/li>
&lt;li>ç¡®è®¤æ­£å¸¸åï¼Œç‚¹å‡» google-photo-free-up-space.js å³è¾¹ä¸‰ç‚¹&amp;ndash;æ›´å¤š&amp;ndash;å®šæ—¶ä»»åŠ¡ï¼Œè®¾ç½®æ¯å¤©è¿è¡Œæ—¶é—´&lt;/li>
&lt;/ol>
&lt;p>google-photo-free-up-space.js ä¸­ &lt;code>text()&lt;/code> å‡½æ•°æ˜¯åœ¨ç•Œé¢æŸ¥æ‰¾æ–‡æœ¬ï¼Œå¦‚æœç³»ç»Ÿè¯­è¨€ä¸æ˜¯è‹±æ–‡ï¼Œéœ€è¦è‡ªè¡Œè°ƒæ•´ 21-22 è¡Œå†…å®¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="hl">&lt;span class="lnt">21
&lt;/span>&lt;/span>&lt;span class="hl">&lt;span class="lnt">22
&lt;/span>&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">auto&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">utils&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;utils.js&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">pkgName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;com.google.android.apps.photos&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">utils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">startApp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pkgName&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">toastLog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å¯åŠ¨&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">pkgName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;ï¼Œç­‰å¾…æ£€æµ‹ä¸­&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">waitForPackage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pkgName&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">toastLog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ£€æµ‹åˆ°&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">pkgName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;ç­‰å¾… Activity&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">waitForActivity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;com.google.android.apps.photos.home.HomeActivity&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">toastLog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‰¾åˆ°é¦–é¡µ Activity&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç‚¹å‡»å¤´åƒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;og_apd_internal_image_view&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">waitFor&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">utils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;og_apd_internal_image_view&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">toastLog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‰¾åˆ°å¤´åƒï¼Œç‚¹å‡»&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç‚¹å‡» free up
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line hl">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Free up space&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">waitFor&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line hl">&lt;span class="cl">&lt;span class="nx">utils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Free up space&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">toastLog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è¿›å…¥é‡Šæ”¾ç•Œé¢&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">500&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç‚¹å‡»é‡Šæ”¾æŒ‰é’®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;free_up_button&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">utils&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;free_up_button&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">toastLog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ä»»åŠ¡å®Œæˆ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¿”å› app ä¸»ç•Œé¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">back&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2 æ¬¡è¿”å›é€€å‡º app
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">back&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="nx">back&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hide&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¸©å‘è¿‡ç¨‹">è¸©å‘è¿‡ç¨‹&lt;/h2>
&lt;p>æœ€åˆçš„è®¾æƒ³ï¼Œtermux å®‰è£… rclone, ç„¶åå°† NAS å…±äº«ç›®å½•æŒ‚è½½åˆ°æœ¬åœ°ç›®å½•ï¼Œæœ€ååœ¨ç›¸å†Œé‡Œå¤‡ä»½æœ¬åœ°ç›®å½•ã€‚&lt;/p>
&lt;p>&lt;del>&lt;strong>rclone æŒ‚è½½ SFTP&lt;/strong>&lt;/del>&lt;/p>
&lt;p>ç¾¤æ™–å¼€å¯ STFP æ”¯æŒï¼Œæ‰‹æœºä¸Š termux é‡Œé…ç½® rclone ä¸€åˆ‡æ­£å¸¸ï¼Œåˆ°æ‰§è¡Œ rclone mount æ—¶æŠ¥ &lt;code>/etc/fstab&lt;/code> é—®é¢˜ï¼Œå…·ä½“è®°ä¸æ¸…ï¼Œå› è¯¥æ˜¯å’Œæ‰‹æœºæ²¡æœ‰ root æœ‰å…³ã€‚&lt;/p>
&lt;p>&lt;del>&lt;strong>rclone æŒ‚è½½ WebDAV&lt;/strong>&lt;/del>&lt;/p>
&lt;p>WebDAV åœ¨ rclone é‡Œä¸æ”¯æŒ rclone mountã€‚&lt;/p>
&lt;p>&lt;del>&lt;strong>æŒ‚è½½ SMB å…±äº«æ–‡ä»¶å¤¹&lt;/strong>&lt;/del>&lt;/p>
&lt;p>æ‰¾äº†å‡ ä¸ªæ–‡ä»¶ç®¡ç†å™¨ï¼Œéƒ½åªèƒ½æŒ‚è½½ç»™è‡ªå·±ä½¿ç”¨ï¼Œä¸èƒ½æä¾›ç»™åˆ«çš„ appã€‚åªæœ‰ root åæ‰èƒ½å…¨å±€æŒ‚è½½ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥&lt;/h2>
&lt;ol>
&lt;li>&lt;a class="link" href="https://support.google.com/photos/answer/6220791" target="_blank" rel="noopener"
>Choose the upload size of your photos &amp;amp; videos&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.reddit.com/r/GooglePixel/comments/l9m6nk/how_to_use_og_pixel_as_an_unlimited_google_photos/" target="_blank" rel="noopener"
>How to use OG Pixel as an unlimited Google Photos uploader&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://repaynt.com/2021/02/original-pixel-unlimited-google-photos-uploader/" target="_blank" rel="noopener"
>Original Pixel Phone â€“ The Unlimited Google Photos Uploader&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://rclone.org/sftp/" target="_blank" rel="noopener"
>rclone SFTP configuration&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://pmiku.com/note/mount-cifs-in-android.html" target="_blank" rel="noopener"
>mount-cifs-in-android&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>Android è¿œç¨‹æˆªå›¾</title><link>https://4ft35t.github.io/post/android-screenshoot-remote/</link><pubDate>Fri, 06 Aug 2021 16:51:31 +0800</pubDate><guid>https://4ft35t.github.io/post/android-screenshoot-remote/</guid><description>&lt;p>æŸäº›æ—¥å¸¸çš„ç‰¹æ®Šåœºæ™¯ï¼Œéœ€è¦è¿œç¨‹æˆªå±å¹¶ä¼ è¾“ï¼Œè®°å½•ä¸‹ä½¿ç”¨ autojs + cgi + adb å®ç°è¿‡ç¨‹ã€‚&lt;/p>
&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯&lt;/h2>
&lt;p>äº‘é—ªä»˜å…¬äº¤ä¹˜è½¦ç ï¼Œæ¯å‘¨ä½¿ç”¨ä¸‰æ¬¡å¯ä»¥è·å¾—ä¸€å¼  6-5 æ¶ˆè´¹åˆ¸ï¼Œä½†é‚£ä¸€ä¸ªå¸å·ä¸€å‘¨åªèƒ½é¢†ä¸€æ¬¡ï¼Œéœ€è¦å¤šä¸ªå¸å·ã€‚&lt;/p>
&lt;p>å®¶é‡Œæœ‰ä¸ªè€åä¸ºæ‰‹æœºï¼Œä¸Šé¢ç™»å½•çš„æœ‰è€äººçš„äº‘é—ªä»˜å¸å·ï¼Œä½†æ˜¯æ³¨å†Œå¸å·çš„æ‰‹æœºå·å¤±æ•ˆï¼Œæ— æ³•æ›´æ¢æ–°æ‰‹æœºå·ï¼Œæ–°è®¾å¤‡ç™»å½•éœ€è¦çŸ­ä¿¡éªŒè¯ç ï¼Œåªæœ‰æ‹¿è¿™ä¸ªæ‰‹æœºå»åˆ·ã€‚&lt;/p>
&lt;p>ä¸æƒ³å¸¦å¤šä¸ªæ‰‹æœºå‡ºé—¨ï¼Œå¼€å¯æŠ˜è…¾ä¹‹è·¯ã€‚&lt;/p>
&lt;h2 id="æˆªå±">æˆªå±&lt;/h2>
&lt;p>ç³»ç»Ÿè‡ªå¸¦ &lt;code>screencap&lt;/code> å‘½ä»¤ï¼Œæ¡Œé¢å’Œåˆ«çš„ app å¯ä»¥æˆªå±ï¼Œäº‘é—ªä»˜ä¸è¡Œï¼Œåº”è¯¥æ˜¯äº‘é—ªä»˜è®¾ç½®äº†&lt;code>FLAG_SECURE&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/Genymobile/scrcpy" target="_blank" rel="noopener"
>scrcpy&lt;/a> å¯ä»¥æ˜¾ç¤ºäº‘é—ªä»˜å†…å®¹ï¼ŒçŒœæµ‹ &lt;a class="link" href="https://github.com/Ericwyn/Auto.js" target="_blank" rel="noopener"
>autojs&lt;/a> ä½¿ç”¨ cast æ¨¡å¼ä¹Ÿå¯ä»¥æˆªå±ï¼Œå®æµ‹ç¡®å®å¯ä»¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">auto&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">launch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;com.unionpay&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">waitForPackage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;com.unionpay&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é¦–é¡µç‚¹å‡»ä¹˜è½¦ç 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1500&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;å……å€¼ä¸­å¿ƒ&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">()){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toastLog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;æ‰¾åˆ° ä¹˜è½¦ç  å…³é”®å­—&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ä¹˜è½¦ç &amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">findOne&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clickable&lt;/span>&lt;span class="p">()){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">parent&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">waitForActivity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;com.unionpay.activity.react.UPActivityReactNative&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 2ã€è¯·æ±‚æˆªå›¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">requestScreenCapture&lt;/span>&lt;span class="p">()){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toastLog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;è¯·æ±‚æˆªå›¾å¤±è´¥&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exit&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 3ã€è¿›è¡Œæˆªå›¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">captureScreen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;/sdcard/img.png&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">toastLog&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;æˆªå›¾å®Œæˆ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è§¦å‘">è§¦å‘&lt;/h2>
&lt;p>ä¸€å¼€å§‹è®¾æƒ³çš„æ˜¯ autojs ç›‘å¬é€šçŸ¥ï¼Œä½¿ç”¨ &lt;a class="link" href="https://github.com/Finb/Bark" target="_blank" rel="noopener"
>Bark&lt;/a> çš„å®‰å“å®¢æˆ·ç«¯ &lt;a class="link" href="https://github.com/xlvecle/PushLite" target="_blank" rel="noopener"
>PushLite&lt;/a> æ¥æ¥æ”¶é€šçŸ¥è§¦å‘æˆªå›¾ï¼Œç„¶è€Œ PushLite éœ€è¦ Google FCMï¼Œå®‰è£…å¤ªæŠ˜è…¾ï¼Œæ”¾å¼ƒï¼Œå¯»æ±‚ç”µè„‘ç«¯è§¦å‘çš„æ–¹æ¡ˆã€‚&lt;/p>
&lt;p>ä¸€ç•ªæœç´¢ï¼Œå†³å®šç”¨ cgi æ¥æ¥æ”¶å¤–éƒ¨è¯·æ±‚å¹¶è§¦å‘æˆªå›¾ï¼Œå„ç§ä¾èµ–æœ€å°‘ã€‚&lt;/p>
&lt;p>ç”µè„‘ä¸Šè¿æ¥å¤šä¸ªå®‰å“æ‰‹æœºï¼Œæ‰§è¡Œ adb å‘½ä»¤éœ€è¦æŒ‡å®šè®¾å¤‡ idï¼Œè®¾å¤‡ id ç”¨ &lt;code>adb devices&lt;/code> è·å–&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">adb devices
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">List of devices attached
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NXTDU1xxxxxxxxx device
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>NXTDU1xxxxxxxxx å°±æ˜¯è®¾å¤‡ id&lt;/p>
&lt;p>yunshanfu.sh&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Content-Type:text/html&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;html&amp;gt;&amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt;&amp;lt;body&amp;gt;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dev&lt;/span>&lt;span class="o">=&lt;/span>NXTDU1xxxxxxxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">img&lt;/span>&lt;span class="o">=&lt;/span>/sdcard/img.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">adb&lt;span class="o">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> /usr/bin/adb -s &lt;span class="nv">$dev&lt;/span> &lt;span class="nv">$@&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cleanup&lt;span class="o">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> adb shell rm &lt;span class="nv">$img&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> rm /tmp/ysf.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">unlock&lt;span class="o">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> adb shell input keyevent &lt;span class="m">224&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> adb shell input swipe &lt;span class="m">300&lt;/span> &lt;span class="m">500&lt;/span> &lt;span class="m">300&lt;/span> &lt;span class="m">1500&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> adb shell input text &lt;span class="m">12345678&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">screenshoot&lt;span class="o">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> adb shell am start -n org.autojs.autojs/.external.open.RunIntentActivity -d /sdcard/Scripts/ysf.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="m">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æ ¡éªŒæ–‡ä»¶å¤§å°ï¼Œé¿å… pull å›æ¥æœªå†™å®Œå›¾ç‰‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> adb pull &lt;span class="nv">$img&lt;/span> /tmp/ysf.png &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>stat -c %s /tmp/ysf.png&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> -ge &lt;span class="m">300000&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sleep &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># press power button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> adb shell input keyevent &lt;span class="m">26&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cleanup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">unlock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">screenshoot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&amp;lt;img src=&amp;#39;data:image/png;base64,&lt;/span>&lt;span class="k">$(&lt;/span>cat /tmp/ysf.png &lt;span class="p">|&lt;/span> base64 -w 0&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#39;&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>python http.server çš„ cgi è„šæœ¬éœ€è¦æ”¾åœ¨ &lt;code>cgi-bin&lt;/code> ç›®å½•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">chmod +x yunshanfu.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir cgi-bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv yunshanfu.sh cgi-bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -m http.server --cgi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æµè§ˆå™¨è®¿é—® &lt;code>http://127.0.0.1:8000/cgi-bin/yunshanfu.sh&lt;/code>, å³å¯è§¦å‘æˆªå›¾ï¼Œå¹¶åœ¨å½“å‰é¡µé¢å±•ç¤ºæˆªå›¾ã€‚&lt;/p>
&lt;p>è®¾ç½®ç«¯å£è½¬å‘ï¼Œå…¬ç½‘è®¿é—®æ•ˆæœå¦‚å›¾
&lt;img src="https://cdn.jsdelivr.net/gh/4ft35t/images@blog/img/2021/IMG_0317.jpg"
loading="lazy"
>&lt;/p>
&lt;p>æœ€åï¼Œæ‰€æœ‰ç›¸å…³ä»£ç åœ¨ &lt;a class="link" href="https://github.com/4ft35t/Android-Screenshoot-Remote" target="_blank" rel="noopener"
>https://github.com/4ft35t/Android-Screenshoot-Remote&lt;/a>&lt;/p></description></item><item><title>PD/QC ç”µæºè½¬ DC å¤´è¾“å‡º</title><link>https://4ft35t.github.io/post/pd-qc-dc/</link><pubDate>Mon, 13 Jul 2020 14:35:25 +0800</pubDate><guid>https://4ft35t.github.io/post/pd-qc-dc/</guid><description>&lt;p>æœ€åˆäº†è§£åˆ° PD ç”µæº type-c è¾“å‡ºè½¬ DC åœ†å¤´è¾“å‡ºï¼Œæ˜¯åœ¨ twitter ä¸Šï¼Œå½“æ—¶ä½œè€…è¯´ä»æ·˜å®ä¹°äº† PD è¯±éª—å™¨ï¼Œå¯ä»¥ç”¨ PD å¤´ç»™ NUC ä¾›ç”µï¼Œçœäº† NUC è‡ªå¸¦ç”µæºå çš„ç©ºé—´ã€‚&lt;/p>
&lt;p>PD å’Œ QC æ˜¯ä¸¤ç§ç”µæºå¿«å……åè®®ï¼Œä¸€èˆ¬ PD å……ç”µå¤´éƒ½æ”¯æŒ QC åè®®ï¼Œåä¹‹åˆ™ä¸è¡Œï¼›ä¸ä¹‹ç›¸å¯¹åº”çš„ï¼ŒPD å……ç”µå¤´çš„ä»·æ ¼è¦æ¯” QC è´µå¾ˆå¤šã€‚&lt;/p>
&lt;p>æˆ‘ä¹Ÿé‡äº†ä¸€ä¸‹ç¬”è®°æœ¬å……ç”µå¤´çš„å¤–å¾„ 4mmï¼Œç„¶ååœ¨æ·˜å®çœ‹åˆ°çš„å‚æ•°æœ‰ä¸¤ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>4.0*1.35&lt;/li>
&lt;li>4.0*1.7&lt;/li>
&lt;/ul>
&lt;p>ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªæ˜Ÿå·ï¼Œ&lt;del>&lt;strong>æƒ³å½“ç„¶ä»¥ä¸ºæ˜¯ç›´å¾„ä¹˜ä»¥é•¿åº¦&lt;/strong>&lt;/del>ï¼Œä¹°äº† 4.0*1.35 å°±è¸©å‘äº†ã€‚&lt;/p>
&lt;h3 id="dc-å¤´å°ºå¯¸è¡¨ç¤ºæ–¹æ³•">DC å¤´å°ºå¯¸è¡¨ç¤ºæ–¹æ³•&lt;/h3>
&lt;p>DC å¤´æ˜¯å®¶é‡Œå°ç”µå™¨å¸¸ç”¨çš„ä¾›ç”µæ’å¤´ï¼Œé€šå¸¸æ˜¯åœ†çš„ï¼Œä¸­å¿ƒæ˜¯ç©ºçš„ã€‚å…‰çŒ«ã€è·¯ç”±å™¨ã€ç¬”è®°æœ¬ç”µè„‘ã€å°ç¯ç­‰éƒ½åœ¨ç”¨è¿™ç§æ¥å¤´ã€‚DC å¤´ä¾›ç”µæ¯” USB ç¨³å›ºã€å¯é ã€è€ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/4ft35t/images@blog/img/2020/Screenshot%202020-07-13%20at%2015.10.09.png"
loading="lazy"
>&lt;/p>
&lt;p>DC åœ†å¤´ç”¨ä¸¤ç»„æ•°å­—æ¥å®šä¹‰ä¸€ä¸ªå¤´çš„å¤§å°ï¼Œ&lt;strong>å¤–ç›´å¾„&lt;/strong>å’Œ&lt;strong>å†…ç›´å¾„&lt;/strong>ã€‚&lt;/p>
&lt;p>ä¸€ä¸ªå¤–ç›´å¾„ 5.5mmï¼Œå†…ç›´å¾„ 2.1mm çš„ DC å¤´ï¼Œåœ¨æ·˜å®ä¸Šä¸åŒåº—å®¶æœ‰ä¸¤ç§å†™æ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>5.5*2.1&lt;/li>
&lt;li>5521&lt;/li>
&lt;/ul>
&lt;p>ä¸€ä¸ªå°æç¤ºï¼ŒDC 5525 æ’å¤´å…¼å®¹ 5521ï¼Œä¹Ÿå°±æ˜¯ 5525 çš„æ’å¤´å¯ä»¥æ’åœ¨ 5525 å’Œ 5521 çš„æ’åº§ä¸Šã€‚&lt;/p>
&lt;h3 id="pd-è¯±éª—å¤´">PD è¯±éª—å¤´&lt;/h3>
&lt;p>æ·˜å®ä¸Šçš„ PD è¯±éª—å™¨å¤´ä¸€èˆ¬è¾“å‡ºç”µå‹æ˜¯ 18.5v ~ 20vï¼Œç¬”è®°æœ¬ç”µè„‘ç”µæºè¾“å‡ºç”µå‹ä¸€èˆ¬åœ¨ 19v å·¦å³ã€‚ä½¿ç”¨ PD è¯±éª—å¤´ï¼Œå®Œç¾ç”¨ PD å¤´ç»™ç¬”è®°æœ¬ç”µè„‘å’Œ Surface Proä¾›ç”µï¼ŒèŠ‚çº¦ä¸å°‘æ¡Œé¢ç©ºé—´ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ PD å……ç”µå™¨å¤´+PD è¯±éª—å™¨ç»™ç¬”è®°æœ¬ä¾›ç”µå’ŒåŸè£…ç”µæºä½“ç§¯å¯¹æ¯”&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/4ft35t/images@blog/img/2020/mmexport1594626877412.jpg"
loading="lazy"
>&lt;/p>
&lt;p>PD è¯±éª—å™¨å¤´çš„å¦ä¸€ä¾§ä¸€èˆ¬æ˜¯ type-c å¤´ï¼Œä½¿ç”¨ä¸€æ ¹åŒå¤´ type-c çš„çº¿è¿æ¥ PD&lt;/p>
&lt;p>ç”µæºå’Œè¯±éª—å™¨ã€‚&lt;/p>
&lt;h3 id="qc-è¯±éª—çº¿å‡å‹çº¿">QC è¯±éª—çº¿ï¼å‡å‹çº¿&lt;/h3>
&lt;p>PD è¯±éª—å™¨å¯ä»¥è§£å†³ 19v å·¦å³ä¾›ç”µé—®é¢˜ï¼Œåˆ«çš„å°ç”µå™¨ç”¨çš„ DC å¤´ä¸€èˆ¬æ˜¯ 9V æˆ–è€… 12vï¼Œè¿™å°±éœ€è¦å¦å¤–æ‰¾ä¸€ç§å¯ä»¥è¯±éª—å‡º 9v æˆ–è€… 12v ç”µå‹çš„è¯±éª—å™¨ã€‚åœ¨ç¾¤é‡Œæé—®åå¾—åˆ°å…³é”®å­—â€œå‡å‹çº¿â€ã€‚åæ¢æˆâ€œqc è¯±éª—çº¿â€åç»“æœæ›´å¤šã€‚&lt;/p>
&lt;p>ç”¨ 12v çš„ QC è¯±éª—çº¿ç»™ SmrtClean è¶…å£°æ³¢æ¸…æ´—æœºä¾›ç”µï¼ŒåŒæ ·èŠ‚çº¦å¾ˆå¤šæ¡Œé¢ç©ºé—´ã€‚&lt;/p>
&lt;p>QC è¯±éª—çº¿çš„å¦ä¸€ä¾§æ˜¯ USB æ’å¤´ã€‚&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/4ft35t/images@blog/img/2020/Screenshot%202020-07-13%20at%2016.08.32.png"
loading="lazy"
>&lt;/p>
&lt;h3 id="è¶£äº‹">è¶£äº‹&lt;/h3>
&lt;p>å®¶é‡Œæœ‰ä¸ªç¡•æ–¹çš„æ ‡ç­¾æ‰“å°æœºï¼Œè‡ªå¸¦ç”µæºæ˜¯ 9v 2.5aï¼Œç›´æ¥æ’ç¬”è®°æœ¬è¯±éª—å™¨çš„ 19v ä¾›ç”µå±…ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œã€‚&lt;/p></description></item><item><title>bash æ¡ä»¶é€€å‡ºè¸©å‘</title><link>https://4ft35t.github.io/post/bash-exit-in-conditional/</link><pubDate>Fri, 19 Jun 2020 17:55:19 +0800</pubDate><guid>https://4ft35t.github.io/post/bash-exit-in-conditional/</guid><description>&lt;p>ä¸€ä¸ªå°è„šæœ¬ï¼Œ&lt;code>[ $status != &amp;quot;success&amp;quot; ] &amp;amp;&amp;amp; exit ï¼’&lt;/code>,åœ¨ status å€¼æ˜¯ success æ—¶ï¼Œæœ€ç»ˆçš„è¿”å›çŠ¶æ€ç æ˜¯ï¼‘ï¼Œè€Œä¸æ˜¯ï¼ï¼Œæœ‰ç‚¹è¯¡å¼‚ã€‚&lt;/p>
&lt;h3 id="æ’æŸ¥">æ’æŸ¥&lt;/h3>
&lt;p>è¿™ä¸ªå†™æ³•ä»¥å‰åœ¨è„šæœ¬é‡Œç»å¸¸å†™ï¼Œç¨³å®šè¿è¡Œæœªå‡ºé”™ã€‚å¯¹æ¯”ä¹‹å‰çš„è„šæœ¬åå‘ç°å·®å¼‚ï¼Œä¹‹å‰çš„è„šæœ¬ exit æ˜¯æå‰é€€å‡ºï¼Œåé¢è¿˜æœ‰å†…å®¹ï¼›è¿™ä¸ªè„šæœ¬exitæ˜¯ä¸Šå±‚è°ƒç”¨è„šæœ¬åé¦ˆæœ€ç»ˆç»“æœï¼Œexit æ˜¯æœ€åä¸€è¡Œã€‚&lt;/p>
&lt;p>ä¿®æ”¹è„šæœ¬åä¸€åˆ‡æ­£å¸¸&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">status&lt;/span>&lt;span class="o">=&lt;/span>success
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> &lt;span class="nv">$status&lt;/span> !&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;success&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">ï¼’&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åŸå› åˆ†æ">åŸå› åˆ†æ&lt;/h3>
&lt;p>ä½¿ç”¨ã€€bash -x å¯ä»¥çœ‹å‡ºå·®å¼‚ï¼Œ&lt;/p>
&lt;p>exitã€€åœ¨æœ€åä¸€è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">bash -x t.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="nv">status&lt;/span>&lt;span class="o">=&lt;/span>success
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="s1">&amp;#39;[&amp;#39;&lt;/span> success &lt;span class="s1">&amp;#39;!=&amp;#39;&lt;/span> success &lt;span class="s1">&amp;#39;]&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>exit ä¸åœ¨æœ€åä¸€è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">bash -x t.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="nv">status&lt;/span>&lt;span class="o">=&lt;/span>success
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="s1">&amp;#39;[&amp;#39;&lt;/span> success &lt;span class="s1">&amp;#39;!=&amp;#39;&lt;/span> success &lt;span class="s1">&amp;#39;]&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="nb">echo&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>shell ä¼šå°†æœ€åä¸€æ¡å‘½ä»¤çš„è¿”å›çŠ¶æ€ç ä½œä¸ºæ•´ä¸ªè„šæœ¬çš„è¿”å›çŠ¶æ€ç ã€‚test åœ¨æœ€åä¸€è¡Œæ—¶ï¼Œ&lt;code>[ $status != &amp;quot;success&amp;quot; ]&lt;/code> çš„è¿”å›ç»“æœé0ï¼Œåé¢çš„ã€€&amp;amp;&amp;amp; å†…å®¹ä¸ä¼šæ‰§è¡Œï¼Œæ•´ä¸ªè„šæœ¬ç»“æŸï¼Œè„šæœ¬è¿”å›çŠ¶æ€ç å°±æ˜¯ä¸­æ‹¬å·å†…testå‘½ä»¤çš„åé¦ˆçŠ¶æ€ç ã€‚ã€€ã€€ã€€ã€€ã€€ã€€&lt;/p>
&lt;h3 id="é¿å‘ç»éªŒ">é¿å‘ç»éªŒ&lt;/h3>
&lt;ul>
&lt;li>é€€å‡ºç”¨æˆ–é€»è¾‘ &lt;code>||&lt;/code>ï¼Œé¿å…ç”¨ä¸é€»è¾‘ &lt;del>&amp;amp;&amp;amp;&lt;/del>&lt;/li>
&lt;li>ä¸€å®šè¦ç”¨ &lt;strong>&amp;amp;&amp;amp; åšé€€å‡ºæ¡ä»¶æ—¶ï¼Œä¸èƒ½ä½œä¸ºè„šæœ¬æˆ–è€…å‡½æ•°çš„æœ€åä¸€æ¡å‘½ä»¤&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>ä¸Šé¢è„šæœ¬æ”¹é€ æˆ||é€€å‡º&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> &lt;span class="nv">$status&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;success&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">ï¼’&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ä¸ºæ˜¯æœ€åä¸€è¡Œï¼Œè¿˜å¯ä»¥ç›´æ¥çœç•¥åé¢çš„å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> &lt;span class="nv">$status&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;success&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Promark3 ä½¿ç”¨ å†°äººï¼ˆicemanï¼‰å›ºä»¶</title><link>https://4ft35t.github.io/post/promark3-flash-iceman-firmware/</link><pubDate>Thu, 04 Jun 2020 19:21:59 +0800</pubDate><guid>https://4ft35t.github.io/post/promark3-flash-iceman-firmware/</guid><description>&lt;p>æ·˜å®ä¹°çš„ Promark3 RDV2ï¼Œä½¿ç”¨å®˜æ–¹ä»“åº“çš„ä»£ç https://github.com/Proxmark/proxmark3ï¼Œç¼–è¯‘å’Œåˆ·å›ºä»¶éƒ½æ²¡é—®é¢˜ï¼›ä½¿ç”¨å†°äººçš„å›ºä»¶https://github.com/RfidResearchGroup/proxmark3ï¼Œç¼–è¯‘ååˆ·bootrom.elf æ²¡é—®é¢˜ï¼Œåˆ· fullimage.elf å‡ºé”™ &lt;code>Error: Unexpected reply 0x00fe NACK (expected ACK) Lock Error&lt;/code>ã€‚&lt;/p>
&lt;p>å®˜æ–¹å›ºä»¶ç¼–è¯‘ã€çƒ§å½•ã€ä½¿ç”¨éƒ½æ²¡é—®é¢˜ï¼Œçœ‹åˆ°å†°äººçš„å›ºä»¶æœ‰ä¸¤æ¡å‘½ä»¤å¾ˆå¿ƒåŠ¨ï¼ŒæŠŠé‡å¤å·¥ä½œè‡ªåŠ¨åŒ–ï¼ŒèŠ‚çº¦æ—¶é—´ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>auto&lt;/code> è‡ªåŠ¨è¯†åˆ«å¡ç±»å‹&lt;/li>
&lt;li>&lt;code>hf mf autopwn&lt;/code> è‡ªåŠ¨ç ´è§£ IC å¡å¯†ç &lt;/li>
&lt;/ul>
&lt;h2 id="ç¼–è¯‘å®‰è£…">ç¼–è¯‘å®‰è£…&lt;/h2>
&lt;p>win 10 çš„ WSL å¯ä»¥ç›´æ¥è®¿é—®ä¸²å£ï¼Œå¾ˆæ–¹ä¾¿ã€‚win 10 ä¸Šçš„ COM3ï¼Œ è‡ªåŠ¨æ˜ å°„åˆ° WSL çš„ /dev/ttyS3ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt-get install --no-install-recommends git ca-certificates build-essential pkg-config libreadline-dev gcc-arm-none-eabi libnewlib-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://github.com/RfidResearchGroup/proxmark3.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> proxmark3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make clean &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> make all
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¿®æ”¹ /dev/ttyS3 ä¸ºæ‰€æœ‰ç”¨æˆ·å¯è¯»å†™ï¼Œè®¾å¤‡æ‹”æ’åéœ€è¦å†æ¬¡æ‰§è¡Œ&lt;/p>
&lt;p>&lt;code>sudo chmod 666 /dev/ttyS3&lt;/code>&lt;/p>
&lt;p>åŒæ—¶åˆ· bootimg å’Œ fullimage&lt;/p>
&lt;p>&lt;code>./pm3-flash-all&lt;/code>&lt;/p>
&lt;p>bootimg åˆ·æˆåŠŸï¼Œåˆ· fullimage å‡ºé”™&lt;/p>
&lt;blockquote>
&lt;p>Error: Unexpected reply 0x00fe NACK (expected ACK)
Lock Error&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/4ft35t/images@blog/img/2020/20200604192557.png"
loading="lazy"
alt="image-20200604192556929"
>&lt;/p>
&lt;h2 id="åˆ·é¢„ç¼–è¯‘å›ºä»¶">åˆ·é¢„ç¼–è¯‘å›ºä»¶&lt;/h2>
&lt;p>åœ¨å†°äººå›ºä»¶çš„ wiki ä¸­æ‰¾åˆ° windows çš„é¢„ç¼–è¯‘é RDV4 ç‰ˆæœ¬ä¸‹è½½ï¼ŒGenerice Proxmark3 devices (non RDV4) [&lt;a class="link" href="https://drive.google.com/open?id=1PI3Xr1mussPBPnYGu4ZjWzGPARK4N7JR" target="_blank" rel="noopener"
>Precompiled builds for RRG / Iceman repository x64&lt;/a>&lt;/p>
&lt;p>æå– fullimage.elf åï¼Œé¡ºåˆ©åˆ·å…¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kali@DESKTOP-SF5P:~/iceman/proxmark3$ ./pm3-flash ./fullimage.elf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Session log /home/kali/.proxmark3/log_20200604.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Loading Preferences...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> loaded from JSON file /home/kali/.proxmark3/preferences.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> About to use the following file:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> ./fullimage.elf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Waiting &lt;span class="k">for&lt;/span> Proxmark3 to appear on /dev/ttyS5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ğŸ•‘ &lt;span class="m">59&lt;/span> found
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Available memory on this board: 512K bytes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Permitted flash range: 0x00102000-0x00180000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Loading ELF file ./fullimage.elf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Loading usable ELF segments:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> 0: V 0x00102000 P 0x00102000 &lt;span class="o">(&lt;/span>0x0003b4d0-&amp;gt;0x0003b4d0&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>R X&lt;span class="o">]&lt;/span> @0x94
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> 1: V 0x00200000 P 0x0013d4d0 &lt;span class="o">(&lt;/span>0x00001370-&amp;gt;0x00001370&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>RW &lt;span class="o">]&lt;/span> @0x3b564
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Note: Extending previous segment from 0x3b4d0 to 0x3c840 bytes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Flashing...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Writing segments &lt;span class="k">for&lt;/span> file: ./fullimage.elf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> 0x00102000..0x0013e83f &lt;span class="o">[&lt;/span>0x3c840 / &lt;span class="m">485&lt;/span> blocks&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...................................................................
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @@@ @@@@@@@ @@@@@@@@ @@@@@@@@@@ @@@@@@ @@@ @@@
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @@! !@@ @@! @@! @@! @@! @@! @@@ @@!@!@@@
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> !!@ !@! @!!!:! @!! !!@ @!@ @!@!@!@! @!@@!!@!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> !!: :!! !!: !!: !!: !!: !!! !!: !!!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> : :: :: : : :: ::: : : : : : :: :
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> . .. .. . . .. ... . . . . . .. .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">................................................ OK
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> All &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Have a nice day!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ&lt;/h2>
&lt;p>åˆ°è¿™ä¸€æ­¥å¯ä»¥ç¡®è®¤æ˜¯å…³é”®ç¼–è¯‘å‚æ•°é—®é¢˜ï¼Œè€Œéç¡¬ä»¶ç¼©æ°´é—®é¢˜233ã€‚&lt;/p>
&lt;p>æŸ¥é˜…æ–‡æ¡£åï¼Œé»˜è®¤ç¼–è¯‘çš„ç›®æ ‡å¹³å°æ˜¯ PM3RDV4ï¼Œé PM3RDV4 éœ€è¦è®¾ç½®ä¸º PM3OTHERã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;PLATFORM=PM3OTHER&amp;#39;&lt;/span> &amp;gt; Makefile.platform
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make clean &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> make all
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†åˆ·å›ºä»¶å°±ä¸€åˆ‡é¡ºåˆ©&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">kali@DESKTOP-SF5P:~/iceman/proxmark3$ ./pm3-flash-fullimage
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Session log /home/kali/.proxmark3/logs/log_20200604.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Loading preferences...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> loaded from JSON file /home/kali/.proxmark3/preferences.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> About to use the following file:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> /home/kali/iceman/proxmark3/client/../armsrc/obj/fullimage.elf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Waiting &lt;span class="k">for&lt;/span> Proxmark3 to appear on /dev/ttyS5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ğŸ•‘ &lt;span class="m">59&lt;/span> found
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Entering bootloader...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> &lt;span class="o">(&lt;/span>Press and release the button only to abort&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Waiting &lt;span class="k">for&lt;/span> Proxmark3 to appear on /dev/ttyS5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ğŸ•’ &lt;span class="m">48&lt;/span> found
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Available memory on this board: 512K bytes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Permitted flash range: 0x00102000-0x00180000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Loading ELF file /home/kali/iceman/proxmark3/client/../armsrc/obj/fullimage.elf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Loading usable ELF segments:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> 0: V 0x00102000 P 0x00102000 &lt;span class="o">(&lt;/span>0x0003b240-&amp;gt;0x0003b240&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>R X&lt;span class="o">]&lt;/span> @0x94
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> 1: V 0x00200000 P 0x0013d240 &lt;span class="o">(&lt;/span>0x00001360-&amp;gt;0x00001360&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>RW &lt;span class="o">]&lt;/span> @0x3b2d4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[=]&lt;/span> Note: Extending previous segment from 0x3b240 to 0x3c5a0 bytes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Flashing...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> Writing segments &lt;span class="k">for&lt;/span> file: /home/kali/iceman/proxmark3/client/../armsrc/obj/fullimage.elf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> 0x00102000..0x0013e59f &lt;span class="o">[&lt;/span>0x3c5a0 / &lt;span class="m">483&lt;/span> blocks&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...................................................................
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @@@ @@@@@@@ @@@@@@@@ @@@@@@@@@@ @@@@@@ @@@ @@@
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @@! !@@ @@! @@! @@! @@! @@! @@@ @@!@!@@@
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> !!@ !@! @!!!:! @!! !!@ @!@ @!@!@!@! @!@@!!@!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> !!: :!! !!: !!: !!: !!: !!! !!: !!!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> : :: :: : : :: ::: : : : : : :: :
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> . .. .. . . .. ... . . . . . .. .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.............................................. OK
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>+&lt;span class="o">]&lt;/span> All &lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Have a nice day!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ·å®Œå›ºä»¶åçš„ç‰ˆæœ¬ä¿¡æ¯&lt;/p>
&lt;blockquote>
&lt;p>[ ARM ]
bootrom: RRG/Iceman/master/v4.9237-188-gbd5aa92a 2020-06-04 16:05:12
os: RRG/Iceman/master/v4.9237-188-gbd5aa92a 2020-06-04 21:01:01
compiled with GCC 8.3.1 20190703 (release) [gcc-8-branch revision 273027]&lt;/p>
&lt;/blockquote>
&lt;h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/RfidResearchGroup/proxmark3/blob/master/doc/md/Installation_Instructions/Windows-Installation-Instructions.md#compile-and-use-the-project-1" target="_blank" rel="noopener"
>https://github.com/RfidResearchGroup/proxmark3/blob/master/doc/md/Installation_Instructions/Windows-Installation-Instructions.md#compile-and-use-the-project-1&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/RfidResearchGroup/proxmark3/blob/master/doc/md/Use_of_Proxmark/4_Advanced-compilation-parameters.md" target="_blank" rel="noopener"
>https://github.com/RfidResearchGroup/proxmark3/blob/master/doc/md/Use_of_Proxmark/4_Advanced-compilation-parameters.md&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>SSH è·³æ¿æœºä¸ä»£ç†</title><link>https://4ft35t.github.io/post/ssh-porxy/</link><pubDate>Wed, 03 Jun 2020 16:55:35 +0800</pubDate><guid>https://4ft35t.github.io/post/ssh-porxy/</guid><description>&lt;p>åŸºäºå„ç§å¤æ‚ç¯å¢ƒï¼Œssh æ— æ³•ç›´æ¥è¿æ¥ç›®æ ‡ä¸»æœºï¼Œéœ€è¦å€ŸåŠ©ä¸­é—´çš„è·³æ¿æœºæˆ–è€…ä»£ç†æ¥è¿æ¥ã€‚é€šå¸¸ä½¿ç”¨ ssh-agent æ¥é€šè¿‡è·³æ¿æœºè¿æ¥ç›®æ ‡ä¸»æœºï¼Œä½¿ç”¨ ProxyCommand æˆ–è€… ProxyJump è¿æ¥æ›´æ–¹ä¾¿ã€‚&lt;/p>
&lt;h3 id="è·³æ¿æœº">è·³æ¿æœº&lt;/h3>
&lt;p>åœ¨ã€€&lt;code>~/.ssh/config&lt;/code> ä¸­ç»™è·³æ¿æœºä¸€ä¸ªæ–¹ä¾¿è®°å¿†çš„åˆ«åï¼Œæ¯”å¦‚ã€€jumpserver&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Host jumpserver
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> User root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> HostName 1.2.3.4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Port 2222
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> IdentityFile ~/.ssh/jump.pem
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åå°±å¯ä»¥é€šè¿‡ã€€&lt;code>ssh jumpserver&lt;/code> ç™»å½•åˆ°è·³æ¿æœºã€‚&lt;/p>
&lt;p>é€šè¿‡è·³æ¿æœºè¿æ¥ç›®æ ‡ä¸»æœºï¼š&lt;/p>
&lt;p>&lt;code>ssh -o ProxyCommand=&amp;quot;ssh -W %h:%p jumpserver&amp;quot; usr@10.0.0.1&lt;/code>&lt;/p>
&lt;p>æˆ–è€…å†™å…¥ config æ–‡ä»¶ï¼Œä½¿ç”¨ &lt;code>ssh dst&lt;/code> ç›´æ¥ç™»å½•ç›®æ ‡ä¸»æœº&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Host dst
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> User usr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> HostName 10.0.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Port 22
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ProxyCommand ssh -W %h:%p jumpserver
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾ƒæ–°ç‰ˆæœ¬çš„ ssh å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ ProxyJump&lt;/p>
&lt;p>&lt;code>ssh -J jumpserver usr@10.0.0.1&lt;/code>&lt;/p>
&lt;p>æˆ–è€…å†™å…¥ config æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Host dst
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> User usr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> HostName 10.0.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Port 22
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ProxyJump jumpserver
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸åŒç‰ˆæœ¬ ssh å®¢æˆ·ç«¯çš„å·®å¼‚å¦‚ä¸‹&lt;/p>
&lt;p>&lt;strong>ProxyCommand ä¸ ProxyJump&lt;/strong>
æ‰€æœ‰å‘½ä»¤å‘åå…¼å®¹ï¼Œæ–°ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨è€ç‰ˆæœ¬å‘½ä»¤&lt;/p>
&lt;ul>
&lt;li>
&lt;p>è¿œå¤ SSH å®¢æˆ·ç«¯ï¼ŒOpenSSH &amp;lt; 5.4&lt;/p>
&lt;p>&lt;code>ProxyCommand ssh jumpserver exec nc %h %p&lt;/code>&lt;/p>
&lt;p>æˆ–è€…
&lt;code>ssh -tt usr1@Jumphost ssh -tt usr2@FooServer&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¸­å¤ SSH å®¢æˆ·ç«¯ï¼Œ5.4 &amp;lt;= OpenSSH &amp;lt;= 7.2&lt;/p>
&lt;p>&lt;code>ProxyCommand ssh jumpserver -W %h:%p&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç°ä»£ SSH å®¢æˆ·ç«¯ï¼ŒOpenSSH &amp;gt;= 7.3&lt;/p>
&lt;p>&lt;code>ProxyJump jumpserver&lt;/code>&lt;/p>
&lt;p>å‘½ä»¤è¡Œä½¿ç”¨
&lt;code>ssh -J jumpserver user@dst-host&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ä»£ç†">ä»£ç†&lt;/h3>
&lt;h4 id="socks-ä»£ç†">socks ä»£ç†&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>nc &lt;code>ProxyCommand nc -x 127.0.0.1:1080 %h %p&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/larryhou/connect-proxy" target="_blank" rel="noopener"
>https://github.com/larryhou/connect-proxy&lt;/a> &lt;code>ProxyCommand connect-proxy -S 127.0.0.1:1080 %h %p&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="httphttps-ä»£ç†">HTTP/HTTPS ä»£ç†&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>nc &lt;code>ProxyCommand nc -X connect -x proxyhost:proxyport %h %p&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/bryanpkc/corkscrew" target="_blank" rel="noopener"
>https://github.com/bryanpkc/corkscrew&lt;/a> &lt;code>ProxyCommand /usr/local/bin/corkscrew proxyhost proxyport %h %p&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>corkscrew åœ¨ä»£ç†ä¸ç¨³å®šæ—¶æ¯” nc å¯é &lt;/strong>&lt;/p>
&lt;h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥&lt;/h3>
&lt;ul>
&lt;li>&lt;a class="link" href="https://en.wikibooks.org/wiki/OpenSSH/Cookbook/Proxies_and_Jump_Hosts" target="_blank" rel="noopener"
>https://en.wikibooks.org/wiki/OpenSSH/Cookbook/Proxies_and_Jump_Hosts&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.cyberciti.biz/faq/linux-unix-ssh-proxycommand-passing-through-one-host-gateway-server/" target="_blank" rel="noopener"
>https://www.cyberciti.biz/faq/linux-unix-ssh-proxycommand-passing-through-one-host-gateway-server/&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>è§£å†³åº”ç”¨å•†åº— 0x80131500 é”™è¯¯</title><link>https://4ft35t.github.io/post/fix-windows-store-0x80131500-error/</link><pubDate>Wed, 03 Jun 2020 11:48:10 +0800</pubDate><guid>https://4ft35t.github.io/post/fix-windows-store-0x80131500-error/</guid><description>&lt;p>Win 10 åº”ç”¨å•†åº—æ‰“å¼€å°±æŠ¥ 0x80131500 é”™è¯¯ï¼Œå°è¯•å„ç§æ–¹æ³•éƒ½ä¸è¡Œï¼Œæœ€ç»ˆä½¿ç”¨ fiddler æ›²çº¿è§£å†³ã€‚&lt;/p>
&lt;p>å°è¯•è¿‡çš„æ–¹æ³•æ¥è‡ª &lt;a class="link" href="https://answers.microsoft.com/zh-hans/windows/forum/all/%E4%BB%A3%E7%A0%81/cbbe7aaf-8f66-4779-89c8-3c74f5341c7b" target="_blank" rel="noopener"
>https://answers.microsoft.com/zh-hans/windows/forum/all/%E4%BB%A3%E7%A0%81/cbbe7aaf-8f66-4779-89c8-3c74f5341c7b&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;del>æŒ‰ â€œWindows å¾½æ ‡é”®+Râ€ï¼Œåœ¨è¿è¡Œçª—å£ä¸­ï¼Œé”®å…¥â€œWSReset.exeâ€ å¹¶ç‚¹å‡» â€œè¿è¡Œâ€&lt;/del>&lt;/li>
&lt;li>&lt;del>è®¾ç½®â†’åº”ç”¨â†’æ‰¾åˆ°microsoft store â†’é«˜çº§â†’é‡ç½®æ­¤åº”ç”¨&lt;/del>&lt;/li>
&lt;li>&lt;del>æ‰“å¼€ IE æµè§ˆå™¨ï¼Œç‚¹å‡»è®¾ç½®ï¼Œæ‰“å¼€ Internet é€‰é¡¹ï¼Œç‚¹å‡»é«˜çº§ï¼Œå¹¶å‹¾é€‰ â€œä½¿ç”¨SSL 3.0â€ã€â€ä½¿ç”¨ TLS 1.0â€œã€â€ä½¿ç”¨ TLS 1.1â€œã€â€ä½¿ç”¨ TLS 1.2â€œï¼Œåº”ç”¨åé‡å¯ç”µè„‘&lt;/del>&lt;/li>
&lt;li>&lt;del>å¸è½½å¹¶é‡è£…åº”ç”¨å•†åº—&lt;/del>&lt;/li>
&lt;/ul>
&lt;p>æœ€ç»ˆé çŸ¥ä¹çš„è¿™æ¡ç­”æ¡ˆæ›²çº¿è§£å†³ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://www.zhihu.com/question/310873087/answer/1127300614" target="_blank" rel="noopener"
>https://www.zhihu.com/question/310873087/answer/1127300614&lt;/a>&lt;/p>
&lt;h3 id="æ“ä½œæ­¥éª¤">æ“ä½œæ­¥éª¤&lt;/h3>
&lt;ol>
&lt;li>ä¸‹è½½å®‰è£… fiddler &lt;a class="link" href="https://telerik-fiddler.s3.amazonaws.com/fiddler/FiddlerSetup.exe" target="_blank" rel="noopener"
>https://telerik-fiddler.s3.amazonaws.com/fiddler/FiddlerSetup.exe&lt;/a>&lt;/li>
&lt;li>æ‰“å¼€fiddler&amp;mdash;ç‚¹å‡»å·¦ä¸Šè§’winconfig&amp;mdash;ç»™ Microsoft Store æ‰“å‹¾&amp;mdash;ç‚¹save changes&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/4ft35t/images@blog/img/2020/20200603120719.png"
loading="lazy"
alt="image-20200603120155534"
>&lt;/p>
&lt;p>å†æ¬¡æ‰“å¼€åº”ç”¨å•†åº—å°±èƒ½æ­£å¸¸ä½¿ç”¨ã€‚å”¯ä¸€çš„ç¼ºé™·æ˜¯éœ€è¦æ‰“å¼€ fiddler æ‰èƒ½ä½¿ç”¨åº”ç”¨å•†åº—ï¼Œä¸ç„¶ä¼šæŠ¥ 0x80072EFD é”™è¯¯ã€‚&lt;/p></description></item><item><title>è§£å†³æ— å¿§è¡Œé•¿æ—¶é—´æ˜¾ç¤ºâ€œæ­£åœ¨è¿æ¥ç”µè¯æœåŠ¡å™¨â€é—®é¢˜</title><link>https://4ft35t.github.io/post/jegotrip-takes-long-time-to-connect/</link><pubDate>Thu, 09 Apr 2020 21:48:15 +0800</pubDate><guid>https://4ft35t.github.io/post/jegotrip-takes-long-time-to-connect/</guid><description>&lt;p>æ— å¿§è¡Œ(JegoTrip)APPæ˜¯ä¸­å›½ç§»åŠ¨ä¸“é—¨ä¸ºå‡ºå¢ƒæ¸¸ç”¨æˆ·é‡èº«æ‰“é€ çš„APPã€‚åœ¨å¢ƒå†…ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œç§»åŠ¨å·ç å¯ä»¥åœ¨ APP å†…æ¥ç”µè¯å’Œæ”¶çŸ­ä¿¡, è½»æ¾å®ç°ä¸€æœºåŒå·ã€‚&lt;/p>
&lt;h2 id="å…·ä½“ç—‡çŠ¶">å…·ä½“ç—‡çŠ¶&lt;/h2>
&lt;p>å®¶é‡Œè·¯ç”±å™¨ä¸Šéƒ¨ç½²æ¢¯å­, å›½å†… IP ç›´è¿ï¼Œå…¶ä½™ IP èµ°æ¢¯å­, å›½å†… IP åº“ç”¨çš„ &lt;a class="link" href="https://github.com/17mon/china_ip_list" target="_blank" rel="noopener"
>https://github.com/17mon/china_ip_list&lt;/a>ã€‚è¿æ¥å®¶é‡Œ WIFIï¼Œæ— å¿§è¡Œ APP å¯åŠ¨åï¼Œæ˜¾ç¤ºâ€œæ­£åœ¨è¿æ¥ç”µè¯æœåŠ¡å™¨â€, æŒç»­ 30 ç§’ä»¥ä¸Šæ‰èƒ½è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œä¹‹åæ‰èƒ½æ”¶åˆ°çŸ­ä¿¡ï¼›ç”¨ 4G åˆ™æ²¡æœ‰è¿™ä¸ªæç¤ºï¼Œå¯åŠ¨ APP ç¬é—´å°±èƒ½æ”¶åˆ°çŸ­ä¿¡ã€‚çŒœæµ‹æ˜¯æ— å¿§è¡ŒæœåŠ¡å™¨çš„é¦™æ¸¯ IP èµ°æ¢¯å­åæ¯”ç›´è¿æ…¢å¾ˆå¤šæ‰€è‡´ã€‚&lt;/p>
&lt;h2 id="æ’æŸ¥-ip">æ’æŸ¥ IP&lt;/h2>
&lt;p>ä» Pi-hole å¯¼å‡º jego ç›¸å…³åŸŸå, &lt;code>192.168.1.123&lt;/code> æ˜¯æ‰‹æœº IP&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl"> sqlite3 pihole-FTL.db &lt;span class="s2">&amp;#34;select distinct
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> domain from queries where client=&amp;#39;192.168.1.123&amp;#39; and domain like &amp;#39;%jego%&amp;#39;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¾—åˆ°å‡ ä¸ªåŸŸå&lt;/p>
&lt;blockquote>
&lt;p>app1.jegotrip.com.cn&lt;br>
tms.jegotrip.com.cn&lt;br>
jegotrip-stage.cn-hongkong.log.aliyuncs.com&lt;br>
cdn.jegotrip.com.cn&lt;br>
oss.jegotrip.com.cn&lt;br>
cp.jegotrip.com.cn&lt;/p>
&lt;/blockquote>
&lt;p>é€ä¸€æ’æŸ¥åï¼Œ&lt;strong>tms.jegotrip.com.cn&lt;/strong> è§£æåˆ° 223.118.41.228, æ˜¯é¦™æ¸¯ IPã€‚&lt;/p>
&lt;h2 id="æ›´æ–°-ip-åˆ—è¡¨">æ›´æ–° IP åˆ—è¡¨&lt;/h2>
&lt;p>223.118.41.228 å±äº AS58453 è‡ªæ²»åŸŸï¼ŒæŠŠè¿™ä¸ªè‡ªæ²»åŸŸä¸­çš„å‡ ä¸ª IP æ®µå…¨éƒ¨è¿½åŠ åˆ°å›½å†… IP åˆ—è¡¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">223.118.0.0/15
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">223.119.0.0/16
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">223.120.0.0/16
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">223.121.0.0/16
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‡å¯æ¢¯å­æœåŠ¡åé—®é¢˜è§£å†³ã€‚&lt;/p></description></item><item><title>ä½¿ç”¨ Github Actions è‡ªåŠ¨éƒ¨ç½² Hugo</title><link>https://4ft35t.github.io/post/hugo-auto-deploy-with-github-actions/</link><pubDate>Tue, 07 Apr 2020 14:03:04 +0800</pubDate><guid>https://4ft35t.github.io/post/hugo-auto-deploy-with-github-actions/</guid><description>&lt;p>Hugo æ˜¯ä¸€æ¬¾å¼€æºçš„ä½¿ç”¨ go è¯­è¨€å†™çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œç”Ÿæˆçš„é™æ€é¡µé¢å¯ä»¥è½»æ¾éƒ¨ç½²åˆ° github pagesã€‚&lt;/p>
&lt;p>GitHub Actions æ˜¯ GitHub çš„æŒç»­é›†æˆæœåŠ¡ï¼ŒæŒç»­é›†æˆç”±å¾ˆå¤šæ“ä½œç»„æˆï¼Œæ¯”å¦‚æŠ“å–ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç™»å½•è¿œç¨‹æœåŠ¡å™¨ï¼Œå‘å¸ƒåˆ°ç¬¬ä¸‰æ–¹æœåŠ¡ç­‰ç­‰ã€‚GitHub æŠŠè¿™äº›æ“ä½œå°±ç§°ä¸º actionsã€‚å¦‚æœä½ éœ€è¦æŸä¸ª actionï¼Œä¸å¿…è‡ªå·±å†™å¤æ‚çš„è„šæœ¬ï¼Œç›´æ¥å¼•ç”¨ä»–äººå†™å¥½çš„ action å³å¯ï¼Œæ•´ä¸ªæŒç»­é›†æˆè¿‡ç¨‹ï¼Œå°±å˜æˆäº†ä¸€ä¸ª actions çš„ç»„åˆã€‚&lt;a class="link" href="https://github.com/marketplace?type=actions" target="_blank" rel="noopener"
>Github actions å¸‚åœº&lt;/a>ï¼Œå¯ä»¥æœç´¢åˆ«äººæäº¤çš„ actionsã€‚&lt;/p>
&lt;h2 id="è‡ªåŠ¨éƒ¨ç½²è¦ç‚¹">è‡ªåŠ¨éƒ¨ç½²è¦ç‚¹&lt;/h2>
&lt;ul>
&lt;li>username.github.io åªèƒ½ä½¿ç”¨ master åˆ†æ”¯&lt;/li>
&lt;li>Github actions çš„é…ç½® yaml æ–‡ä»¶åªèƒ½æ”¾åœ¨é»˜è®¤åˆ†æ”¯&lt;/li>
&lt;/ul>
&lt;h2 id="ç¼–å†™è„šæœ¬">ç¼–å†™è„šæœ¬&lt;/h2>
&lt;p>è‡ªåŠ¨éƒ¨ç½²å¯ä»¥ä»æºç ä»“åº“éƒ¨ç½²åˆ°å‘å¸ƒä»“åº“ï¼Œä¹Ÿå¯ä»¥åœ¨å•ä¸€ä»“åº“çš„åˆ†æ”¯ä¹‹é—´éƒ¨ç½²ã€‚
æœ¬æ–‡çš„ hugo markdown æ–‡ä»¶ä½äº username.github.io çš„ &lt;code>source&lt;/code> åˆ†æ”¯ï¼Œç”Ÿæˆçš„ html æ–‡ä»¶åœ¨åŒä»“åº“çš„ &lt;code>master&lt;/code> åˆ†æ”¯å‘å¸ƒã€‚&lt;/p>
&lt;h4 id="åˆ‡æ¢é»˜è®¤åˆ†æ”¯">åˆ‡æ¢é»˜è®¤åˆ†æ”¯&lt;/h4>
&lt;p>&lt;strong>Repository Settings&lt;/strong> - &lt;strong>Branches&lt;/strong> åˆ‡æ¢ source ä¸ºé»˜è®¤åˆ†æ”¯ã€‚&lt;/p>
&lt;h4 id="æ·»åŠ -actions">æ·»åŠ  Actions&lt;/h4>
&lt;p>&lt;strong>Actions&lt;/strong> - &lt;strong>New workflows&lt;/strong>ï¼Œé€‰æ‹© &lt;strong>Simple workflow&lt;/strong>
ç„¶åå¡«å…¥ä»¥ä¸‹å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Auto deploy hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># è§¦å‘åˆ†æ”¯&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">source&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@master&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">submodules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># æ£€æŸ¥ Hugo themes æ›´æ–°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;latest&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo --minify&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-gh-pages@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy_key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.ACTIONS_DEPLOY_KEY }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_dir&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./public&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_branch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">master&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># éƒ¨ç½²ç›®çš„åˆ†æ”¯&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¼•ç”¨çš„ä¸¤ä¸ª actions åŠä½œç”¨&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/peaceiris/actions-hugo" target="_blank" rel="noopener"
>peaceiris/actions-hugo&lt;/a> è·å–æœ€æ–°çš„ hugo&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/peaceiris/actions-gh-pages" target="_blank" rel="noopener"
>peaceiris/actions-gh-pages&lt;/a> å‘å¸ƒé™æ€é¡µé¢&lt;/li>
&lt;/ul>
&lt;h2 id="è®¾ç½®éƒ¨ç½²æƒé™">è®¾ç½®éƒ¨ç½²æƒé™&lt;/h2>
&lt;p>å¯ä»¥ä½¿ç”¨ Github Token æˆ–è€…ç§é’¥ç»™ workflow ä»“åº“å†™æƒé™ã€‚
æœ¬æ–‡ä½¿ç”¨ç§é’¥ï¼Œè®¾ç½®æ­¥éª¤å¦‚ä¸‹&lt;/p>
&lt;ol>
&lt;li>&lt;code>ssh-keygen -t rsa -b 4096 -C &amp;quot;$(git config user.email)&amp;quot; -f gh-pages -N &amp;quot;&amp;quot;&lt;/code> ç”Ÿæˆå…¬ç§é’¥å¯¹&lt;/li>
&lt;li>&lt;strong>Repository Settings&lt;/strong> - &lt;strong>Deploy Keys&lt;/strong>ï¼Œç²˜è´´ &lt;code>gh-pages.pub&lt;/code> å†…å®¹å¹¶å‹¾é€‰ &lt;code> Allow write access&lt;/code>&lt;/li>
&lt;li>&lt;strong>Repository Settings&lt;/strong> - &lt;strong>Secrets&lt;/strong>ï¼Œç²˜è´´ &lt;code>gh-pages&lt;/code> å†…å®¹, name å¿…é¡»ä¸º &lt;code>ACTIONS_DEPLOY_KEY&lt;/code>
&lt;img src="https://cdn.jsdelivr.net/gh/peaceiris/actions-gh-pages/images/secrets-1.jpg"
loading="lazy"
>&lt;/li>
&lt;/ol>
&lt;p>è®¾ç½®å®Œæˆåï¼Œå‘ source åˆ†æ”¯æäº¤ä»£ç ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆé™æ€é¡µé¢å‘å¸ƒåˆ° master åˆ†æ”¯ã€‚
æ•ˆæœç±»ä¼¼
&lt;img src="https://cdn.jsdelivr.net/gh/peaceiris/actions-gh-pages/images/log_overview.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://tianhui.xin/blog/2019/11/17/hugousegithubactionstopages/" target="_blank" rel="noopener"
>https://tianhui.xin/blog/2019/11/17/hugousegithubactionstopages/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/peaceiris/actions-hugo" target="_blank" rel="noopener"
>https://github.com/peaceiris/actions-hugo&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-deploy_key" target="_blank" rel="noopener"
>https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-deploy_key&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>