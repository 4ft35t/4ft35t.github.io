<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>hugo on 4ft35t blog</title><link>https://4ft35t.github.io/tags/hugo/</link><description>Recent content in hugo on 4ft35t blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Tue, 07 Apr 2020 14:03:04 +0800</lastBuildDate><atom:link href="https://4ft35t.github.io/tags/hugo/index.xml" rel="self" type="application/rss+xml"/><item><title>使用 Github Actions 自动部署 hugo</title><link>https://4ft35t.github.io/post/hugo-auto-deploy-with-github-actions/</link><pubDate>Tue, 07 Apr 2020 14:03:04 +0800</pubDate><guid>https://4ft35t.github.io/post/hugo-auto-deploy-with-github-actions/</guid><description>Hugo 是一款开源的使用 go 语言写的静态网站生成器，生成的静态页面可以轻松部署到 github pages。
GitHub Actions 是 GitHub 的持续集成服务，持续集成由很多操作组成，比如抓取代码、运行测试、登录远程服务器，发布到第三方服务等等。GitHub 把这些操作就称为 actions。如果你需要某个 action，不必自己写复杂的脚本，直接引用他人写好的 action 即可，整个持续集成过程，就变成了一个 actions 的组合。Github actions 市场，可以搜索别人提交的 actions。
自动部署要点 username.github.io 只能使用 master 分支 Github actions 的配置 yaml 文件只能放在默认分支 编写脚本 自动部署可以从源码仓库部署到发布仓库，也可以在单一仓库的分支之间部署。 本文的 hugo markdown 文件位于 username.github.io 的 source 分支，生成的 html 文件在同仓库的 master 分支发布。
切换默认分支 Repository Settings - Branches 切换 source 为默认分支。
添加 Actions Actions - New workflows，选择 Simple workflow 然后填入以下内容
name: Auto deploy hugo on: push: branches: # 触发分支 - source jobs: build: runs-on: ubuntu-latest steps: - name: checkout uses: actions/checkout@master with: submodules: true # 检查 Hugo themes 更新 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: &amp;#39;latest&amp;#39; - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: deploy_key: ${{ secrets.</description></item></channel></rss>